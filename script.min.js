import{create,cssomSheet}from"https://cdn.skypack.dev/twind";const sheet=cssomSheet({target:new CSSStyleSheet}),{tw:tw}=create({sheet:sheet}),sharedStyles=new CSSStyleSheet;sharedStyles.replaceSync("\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap');\n* {\n  font-family: 'Space Grotesk', sans-serif;\n}\n");class NewsCard extends HTMLElement{constructor(e){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[sheet.target,sharedStyles];const n=document.createElement("div");n.classList=tw`
    bg-[#1E3E62]
    flex flex-col h-96
    shadow-lg rounded-md
    overflow-x-wrap 
  `,n.innerHTML=`\n      <img\n        loading="lazy"\n        src="${e.image_url||"default.jpg"}"\n        alt="${e.image_url?"The data source didn't provide an image":e.title}"\n        title="${e.title}"\n        class="${tw`h-32 lg:hidden w-full object-cover rounded-t-sm`}">\n      <div class="${tw`flex flex-col overflow-y-auto`}">\n      <div class="${tw`p-2`}">\n        <a href=${e.url} target="_blank"><h1 class="${tw`text-2xl hover:underline font-bold text-[#FC6736] font-semibold`}"> \n        ${e.title||"News Title"}\n        </h1></a>\n        <span class="${tw`font-bold text-xl mb-2 text-[#7ED4AD]`}">${e.news_site}<br>${new Date(e.published_at).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}</span>\n        <p class="${tw`text-lg md:text-xl text-white break-words`}">\n          ${e.summary}\n        </p>\n      </div>\n        <img\n        src="${e.image_url||"default.jpg"}"\n        alt="${e.image_url?"The data source didn't provide an image":e.title}"\n        title="${e.title}"\n        class="${tw`hidden mt-4 h-64 lg:block w-full object-cover rounded-b-sm`}">\n      </div>\n    `,t.appendChild(n)}}customElements.define("news-card",NewsCard);const container=document.querySelector("#news-container"),n_articles=15;fetch("https://api.spaceflightnewsapi.net/v4/articles/?format=json&limit=15").then((e=>e.json())).then((e=>{container.classList=tw`
      flex flex-col p-3
      space-y-3
      overflow-y-auto
      md:grid
      md:grid-cols-3
      md:grid-rows-[repeat(5, minmax(100px))]
      md:gap-4
      md:space-y-2
    `,e.results.forEach((e=>{const t=new NewsCard(e);container.appendChild(t)}))}));const next_button=document.querySelector("#next"),previous_button=document.querySelector("#previous");let current_page=0;previous_button.style.display="none",next_button.addEventListener("click",(()=>{current_page+=1,current_page>0&&(previous_button.style.display="block"),fetch("https://api.spaceflightnewsapi.net/v4/articles/?format=json&limit=15&offset="+15*current_page).then((e=>e.json())).then((e=>{container.innerHTML="",e.results.forEach((e=>{const t=new NewsCard(e);container.appendChild(t)}))}))})),previous_button.addEventListener("click",(()=>{current_page-=1,0==current_page&&(previous_button.style.display="none"),fetch("https://api.spaceflightnewsapi.net/v4/articles/?format=json&limit=15&offset="+15*current_page).then((e=>e.json())).then((e=>{container.innerHTML="",e.results.forEach((e=>{const t=new NewsCard(e);container.appendChild(t)}))}))}));const toggleButton=document.getElementById("theme-toggle");function applyTheme(){const e=localStorage.getItem("theme");e?document.body.classList.add(e):document.body.classList.add("light-theme")}toggleButton.addEventListener("click",(()=>{document.body.classList.contains("dark-theme")?(document.body.classList.replace("dark-theme","light-theme"),localStorage.setItem("theme","light-theme")):(document.body.classList.replace("light-theme","dark-theme"),localStorage.setItem("theme","dark-theme"))})),applyTheme();